{"ast":null,"code":"var _jsxFileName = \"/home/marshwu/repos/hsr-stats/frontend/src/Components/StdDevChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StdDevChart() {\n  _s();\n  const [data, setData] = useState([]); // State to hold the fetched data\n\n  useEffect(function fetchData() {\n    async function fetchData() {\n      try {\n        const response = await fetch('http://127.0.0.1:5000/hsr_character_stats/1005'); // Fetch data from API\n        const data = await response.json(); // Parse JSON response\n        setData(data); // Set the fetched data to state\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    fetchData();\n  }, []);\n  const svgRef = useRef();\n  useEffect(function drawChart() {\n    const svg = d3.select(svgRef.current);\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 30,\n      left: 40\n    };\n    const width = +svg.attr('width') - margin.left - margin.right;\n    const height = +svg.attr('height') - margin.top - margin.bottom;\n    const g = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Extract ATK values from data\n    const atkValues = data.map(d => d.ATK);\n\n    // Define the bell curve function\n    const bellCurve = d3.line().x(function (d) {\n      return x(d[0]); // Interacts with data to determine x-coordinate\n    }).y(function (d) {\n      return y(d[1]); // Interacts with data to determine y-coordinate\n    });\n    const x = d3.scaleLinear().range([0, width]);\n    const y = d3.scaleLinear().range([height, 0]);\n\n    // Scale the data to fit the chart\n    x.domain(d3.extent(atkValues));\n    y.domain([0, d3.max(data, function (d) {\n      return d.y; // Interacts with data to determine y-domain\n    })]);\n\n    // Draw the bell curve\n    g.append('path').datum(data).attr('fill', 'none').attr('stroke', 'steelblue').attr('stroke-width', 1.5).attr('d', bellCurve);\n\n    // Add X Axis\n    g.append('g').attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x));\n\n    // Add Y Axis\n    g.append('g').call(d3.axisLeft(y));\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef,\n    width: 600,\n    height: 400\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this); // Renders the SVG container for the chart\n}\n_s(StdDevChart, \"yfte0lMgH4fzCcEO8wo6xUb6JyA=\");\n_c = StdDevChart;\nexport default StdDevChart;\nvar _c;\n$RefreshReg$(_c, \"StdDevChart\");","map":{"version":3,"names":["React","useEffect","useState","useRef","d3","jsxDEV","_jsxDEV","StdDevChart","_s","data","setData","fetchData","response","fetch","json","error","console","svgRef","drawChart","svg","select","current","margin","top","right","bottom","left","width","attr","height","g","append","atkValues","map","d","ATK","bellCurve","line","x","y","scaleLinear","range","domain","extent","max","datum","call","axisBottom","axisLeft","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/marshwu/repos/hsr-stats/frontend/src/Components/StdDevChart.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport * as d3 from 'd3';\n\nfunction StdDevChart() {\n  const [data, setData] = useState([]); // State to hold the fetched data\n\n  useEffect(function fetchData() {\n    async function fetchData() {\n      try {\n        const response = await fetch('http://127.0.0.1:5000/hsr_character_stats/1005'); // Fetch data from API\n        const data = await response.json(); // Parse JSON response\n        setData(data); // Set the fetched data to state\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const svgRef = useRef();\n\n  useEffect(function drawChart() {\n    const svg = d3.select(svgRef.current);\n    const margin = { top: 20, right: 20, bottom: 30, left: 40 };\n    const width = +svg.attr('width') - margin.left - margin.right;\n    const height = +svg.attr('height') - margin.top - margin.bottom;\n    const g = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Extract ATK values from data\n    const atkValues = data.map(d => d.ATK);\n\n    // Define the bell curve function\n    const bellCurve = d3\n      .line()\n      .x(function(d) {\n        return x(d[0]); // Interacts with data to determine x-coordinate\n      })\n      .y(function(d) {\n        return y(d[1]); // Interacts with data to determine y-coordinate\n      });\n\n    const x = d3.scaleLinear().range([0, width]);\n    const y = d3.scaleLinear().range([height, 0]);\n\n    // Scale the data to fit the chart\n    x.domain(d3.extent(atkValues));\n    y.domain([0, d3.max(data, function(d) {\n      return d.y; // Interacts with data to determine y-domain\n    })]);\n\n    // Draw the bell curve\n    g.append('path')\n      .datum(data)\n      .attr('fill', 'none')\n      .attr('stroke', 'steelblue')\n      .attr('stroke-width', 1.5)\n      .attr('d', bellCurve);\n\n    // Add X Axis\n    g.append('g')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(d3.axisBottom(x));\n\n    // Add Y Axis\n    g.append('g').call(d3.axisLeft(y));\n  }, [data]);\n\n  return <svg ref={svgRef} width={600} height={400}></svg>; // Renders the SVG container for the chart\n}\n\nexport default StdDevChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}